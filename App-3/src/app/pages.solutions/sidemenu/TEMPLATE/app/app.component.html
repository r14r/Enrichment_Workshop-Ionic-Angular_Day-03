<ion-app>
	<ion-split-pane>
		<ion-menu type="overlay">
			<ion-header>
				<ion-toolbar>
					<ion-title>Menu</ion-title>
				</ion-toolbar>
			</ion-header>
			<ion-content>


				<ion-list>
					<ion-item *ngFor="let p of appMenu; let i=index" text-wrap (click)="toggleLevel1('idx'+i)"
						[ngClass]="{active: isLevel1Shown('idx'+i)}">
						<h4>
							{{p.category}}
							<ion-icon color="success" item-right
								[name]="isLevel1Shown('idx'+i) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>
						</h4>
						<ion-list *ngIf="isLevel1Shown('idx'+i)">
							<ion-item *ngFor="let s of p.subs; let i2=index" text-wrap
								(click)="toggleLevel2('idx'+i+'idx'+i2)"
								[ngClass]="{active: isLevel2Shown('idx'+i+'idx'+i2)}">
								<h4>
									{{s.subcategory}}
									<ion-icon color="success" item-right
										[name]="isLevel2Shown('idx'+i+'idx'+i2) ? 'arrow-dropdown' : 'arrow-dropright'">
									</ion-icon>
								</h4>
								<ion-list *ngIf="isLevel2Shown('idx'+i+'idx'+i2)">
									<ion-item *ngFor="let m of s.manufactures" text-wrap>
										{{m.manufacture}}
									</ion-item>
								</ion-list>
							</ion-item>
						</ion-list>
					</ion-item>
				</ion-list>


				<ion-list>
					<ion-menu-toggle auto-hide="false" *ngFor="let p of appPages">
						<ion-item [routerDirection]="'root'" [routerLink]="[p.url]">
							<ion-icon slot="start" [name]="p.icon"></ion-icon>
							<ion-label>
								{{p.title}}
							</ion-label>
						</ion-item>
					</ion-menu-toggle>
				</ion-list>
			</ion-content>
		</ion-menu>
		<ion-router-outlet main></ion-router-outlet>
	</ion-split-pane>
</ion-app>